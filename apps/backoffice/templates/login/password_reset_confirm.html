{% extends "login/base_login.html" %}

{% block title %}Nueva contraseña - Melosport{% endblock %}
{% block description %}Establece tu nueva contraseña de acceso{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-md-6 col-lg-5">
    <div class="card shadow border-0 rounded-4">
      <div class="card-body p-5">

        <!-- Encabezado -->
        <div class="text-center mb-4">
          <div class="mb-3">
            <i class="bi bi-shield-lock text-primary" style="font-size: 3rem;"></i>
          </div>
          <h3 class="fw-bold text-dark">Nueva contraseña</h3>
          <p class="text-muted mb-0">
            Establece una contraseña segura para tu cuenta
          </p>
        </div>

        <!-- Errores del formulario -->
        {% if form.errors %}
          <div class="alert alert-danger rounded-3 mb-4">
            {% for field, errors in form.errors.items %}
              {% for error in errors %}
                <div><i class="bi bi-exclamation-triangle me-2"></i>{{ error }}</div>
              {% endfor %}
            {% endfor %}
          </div>
        {% endif %}

        <!-- Formulario -->
        <form method="post" novalidate>
          {% csrf_token %}

          <div class="mb-3">
            <label for="{{ form.new_password1.id_for_label }}" class="form-label fw-semibold">
              <i class="bi bi-key me-2"></i>Nueva contraseña
            </label>
            {{ form.new_password1 }}
          </div>

          <div class="mb-4">
            <label for="{{ form.new_password2.id_for_label }}" class="form-label fw-semibold">
              <i class="bi bi-key-fill me-2"></i>Confirmar contraseña
            </label>
            {{ form.new_password2 }}
          </div>

          <!-- Consejos de seguridad -->
          <div class="alert alert-light border rounded-3 mb-4">
            <small class="text-muted">
              <i class="bi bi-lightbulb me-2"></i>
              <strong>Tip:</strong> Usa al menos 8 caracteres, combinando letras, números y símbolos.
            </small>
          </div>

          <div class="d-grid">
            <button type="submit" class="btn btn-success btn-lg rounded-3">
              <i class="bi bi-check-circle me-2"></i>Actualizar contraseña
            </button>
          </div>
        </form>

      </div>
    </div>
  </div>
</div>
{% endblock %}